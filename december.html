<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Private Wealth & Trading Terminal</title>
    
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
    // Security Guard: Checks if the user actually logged in
    if (sessionStorage.getItem('isLoggedIn') !== 'true') {
        window.location.href = 'bank.html';
    }
</script>

    <style>
        :root {
            --gold: #d4af37;
            --bg-dark: #05070a;
            --card-bg: #111418;
            --border: #2d333b;
            --success: #00ff88;
            --danger: #ff4d4d;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: var(--bg-dark); color: white; }

        /* --- Gatekeeper --- */
        #gatekeeper {
            position: fixed; inset: 0; background: var(--bg-dark);
            display: flex; justify-content: center; align-items: center; z-index: 2000;
        }
        .gate-box {
            background: var(--card-bg); padding: 40px; border-radius: 15px;
            border: 1px solid var(--gold); text-align: center; width: 400px;
        }

        /* --- Main Layout --- */
        .app-container { display: none; padding: 30px; max-width: 1400px; margin: 0 auto; }
        .grid { display: grid; grid-template-columns: 1fr 380px; gap: 30px; margin-top: 20px; }

        .glass-panel { background: var(--card-bg); border: 1px solid var(--border); padding: 25px; border-radius: 16px; margin-bottom: 25px; }
        
        .main-balance { font-size: 52px; font-weight: 800; color: white; margin: 10px 0; letter-spacing: -1px; }
        
        .action-btn {
            width: 100%; padding: 15px; border: none; border-radius: 8px;
            background: var(--gold); color: black; font-weight: bold; cursor: pointer;
            transition: 0.3s; margin-top: 10px;
        }

        .input-dark {
            width: 100%; background: #0d1117; border: 1px solid var(--border);
            padding: 12px; color: white; border-radius: 8px; margin-bottom: 15px;
        }

        /* --- Transaction Table --- */
        .history-table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        .history-table th { text-align: left; color: #8b949e; font-size: 12px; padding: 10px; border-bottom: 1px solid var(--border); }
        .history-table td { padding: 15px 10px; font-size: 14px; border-bottom: 1px solid #1c2128; }
        .amt-pos { color: var(--success); }
        .amt-neg { color: var(--danger); }

        /* --- Trading Terminal --- */
        .trade-box { display: flex; gap: 10px; margin-bottom: 15px; }
        .ticker-display { font-size: 24px; color: var(--gold); font-weight: bold; }
        .price-display { font-size: 24px; color: white; }

        /* --- Credit Card --- */
        .black-card {
            width: 100%; height: 210px;
            background: linear-gradient(135deg, #1a1a1a 0%, #000000 100%);
            border-radius: 16px; padding: 25px; position: relative;
            border: 1px solid rgba(212, 175, 55, 0.4);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            margin-bottom: 30px;
        }

        /* --- Print/Certificate Mode --- */
        @media print {
            body * { visibility: hidden; }
            #cert-modal, #cert-modal * { visibility: visible; }
            #cert-modal { position: absolute; left: 0; top: 0; width: 100%; border: none; }
            .no-print { display: none; }
        }

        #cert-modal {
            display: none; position: fixed; top: 50%; left: 50%; 
            transform: translate(-50%, -50%);
            background: white; color: black; padding: 50px;
            width: 600px; border: 10px double var(--gold); z-index: 3000;
        }
    </style>
</head>
<body>

    <div id="gatekeeper">
        <div class="gate-box">
            <h2 style="color: var(--gold); margin-bottom: 10px;">SECURE LOGIN</h2>
            <p style="font-size: 12px; color: #8b949e; margin-bottom: 20px;">Private Equity & Loan Access</p>
            <input type="number" id="score" class="input-dark" placeholder="Credit Score">
            <select id="home" class="input-dark">
                <option value="no">Non-Homeowner</option>
                <option value="yes">Verified Homeowner</option>
            </select>
            <button class="action-btn" onclick="verify()">AUTHORIZE ACCESS</button>
        </div>
    </div>

    <div id="cert-modal">
        <div style="text-align: center; border-bottom: 2px solid #000; padding-bottom: 20px;">
            <h1 style="letter-spacing: 5px;">CERTIFICATE OF APPROVAL</h1>
            <p>HORIZON PRIVATE WEALTH MANAGEMENT</p>
        </div>
        <div style="margin-top: 40px;">
            <p>This document certifies that <strong>JENNA ORTEGA.</strong> is officially approved for a:</p>
            <h2 style="margin: 20px 0; color: #b8860b;">HOME EQUITY LINE OF CREDIT (HELOC)</h2>
            <p>Approved Amount: <strong>$350,000.00 USD</strong></p>
            <p>Interest Rate: <strong>6.25% Fixed APR</strong></p>
            <p>Date of Issue: <span id="cert-date"></span></p>
        </div>
        <div style="margin-top: 50px; display: flex; justify-content: space-between;">
            <div>
                <div style="width: 150px; border-bottom: 1px solid #000;"></div>
                <p style="font-size: 10px;">Underwriting Manager</p>
            </div>
            <div style="text-align: right;">
                <p style="font-family: 'serif'; font-style: italic; font-size: 20px;">Horizon Elite</p>
                <p style="font-size: 10px;">Official Institutional Seal</p>
            </div>
        </div>
        <button class="action-btn no-print" onclick="window.print()" style="margin-top: 30px;">PRINT TO PDF</button>
        <button class="action-btn no-print" onclick="closeCert()" style="background: #eee; color: #333;">CLOSE</button>
    </div>

    <div class="app-container" id="app">
        <header style="display: flex; justify-content: space-between; align-items: center;">
            <h1 style="color: var(--gold); font-size: 24px;">HORIZON PRIVATE WEALTH</h1>
            <div style="text-align: right;">
                <p style="color: var(--success); font-weight: bold;">STATUS: ELITE VERIFIED</p>
            </div>
        </header>

        <div class="grid">
            <div class="main-col">
                <div class="glass-panel">
                    <p style="color: #8b949e; font-size: 12px;">Liquid Capital</p>
                    <div class="main-balance" id="balance">$450,000.00</div>
                    <button class="action-btn" onclick="openCert()" style="width: auto; padding: 10px 20px; font-size: 12px;">
                        <i class="ri-file-list-3-line"></i> GENERATE LOAN APPROVAL PDF
                    </button>
                </div>

                <div class="glass-panel">
                    <h3>Market Execution</h3>
                    <div class="trade-box">
                        <input type="text" id="tickerSearch" class="input-dark" placeholder="NVDA" style="margin:0">
                        <input type="number" id="sharesInput" class="input-dark" placeholder="Shares" style="margin:0">
                    </div>
                    <div style="display: flex; justify-content: space-between; margin: 15px 0;">
                        <span class="ticker-display" id="activeTicker">NVDA</span>
                        <span class="price-display" id="activePrice">$495.20</span>
                    </div>
                    <button class="action-btn" onclick="executeTrade('BUY')" style="background: var(--success); color: white;">BUY ASSETS</button>
                </div>

                <div class="glass-panel">
                    <h3>Transaction History</h3>
                    <table class="history-table" id="txBody">
                        <tbody>
                            <tr><td>Institutional Account Setup</td><td>Deposit</td><td>Today</td><td class="amt-pos">+$450,000.00</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="side-col">
                <div class="black-card">
                    <div style="display: flex; justify-content: space-between;">
                        <i class="ri-vip-crown-fill" style="color: var(--gold); font-size: 24px;"></i>
                        <i class="ri-visa-line" style="font-size: 30px;"></i>
                    </div>
                    <div style="margin-top: 40px; font-size: 18px; letter-spacing: 4px;">4455 8899 0011 2233</div>
                    <div class="card-holder" style="margin-top: 40px; font-size: 12px;">JENNA ORTEGA.</div>
                </div>

                <div class="glass-panel">
                    <h3>HELOC Details</h3>
                    <p style="font-size: 14px; margin: 10px 0;">Available Credit: $350,000.00</p>
                    <p style="font-size: 12px; color: #8b949e;">Collateral: Primary Residence (Verified)</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let balance = 450000.00;
        const prices = { "NVDA": 495.20, "AAPL": 182.50, "TSLA": 238.45 };

        function verify() {
            if(document.getElementById('score').value >= 680 && document.getElementById('home').value === 'yes') {
                document.getElementById('gatekeeper').style.display = 'none';
                document.getElementById('app').style.display = 'block';
            } else { alert("Minimum requirements not met."); }
        }

        function openCert() {
            document.getElementById('cert-date').innerText = new Date().toLocaleDateString();
            document.getElementById('cert-modal').style.display = 'block';
        }

        function closeCert() { document.getElementById('cert-modal').style.display = 'none'; }

        function executeTrade(type) {
            const ticker = document.getElementById('activeTicker').innerText;
            const shares = parseInt(document.getElementById('sharesInput').value) || 0;
            const total = prices[ticker] * shares;

            if(shares > 0 && total <= balance) {
                balance -= total;
                document.getElementById('balance').innerText = `$${balance.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
                const table = document.getElementById('txBody');
                const row = table.insertRow(0);
                row.innerHTML = `<td>Buy ${shares} ${ticker}</td><td>Trading</td><td>Today</td><td class="amt-neg">-$${total.toLocaleString()}</td>`;
            }
        }
    </script>
</body>
</html>